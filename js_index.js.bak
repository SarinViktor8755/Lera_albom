// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    updateInfo();
    updateEventsInfo();
    animateNameLetters();
    startHeartAnimation();
    initSlideshow();
    lazyLoadImages();
    createFloatingElements();
    setupScrollListener();
    setupNavbarScroll();
    showAllTexts();
    createConfetti();
});

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;
        const maxScroll = document.body.scrollHeight - window.innerHeight;
        let scrollProgress = Math.min(scrollPosition / maxScroll, 1);
        
        // –ù–µ–ª–∏–Ω–µ–π–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
        scrollProgress = easeInOutCubic(scrollProgress);
        
        // –ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ–º —Ü–≤–µ—Ç
        const currentColor = interpolateColor(startColor, endColor, scrollProgress);
        const currentColorHex = rgbToHex(currentColor[0], currentColor[1], currentColor[2]);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
        document.documentElement.style.setProperty('--current-bg-color', currentColorHex);
        
        // –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
        const nav = document.querySelector('.navbar');
        if (scrollProgress > 0.5) {
            nav.style.background = 'rgba(197, 73, 207, 0.9)';
        } else {
            nav.style.background = 'linear-gradient(135deg, var(--primary-color), var(--dark-color))';
        }
    });
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
    function easeInOutCubic(t) {
        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è RGB –≤ HEX
    function rgbToHex(r, g, b) {
        return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
    }
});

document.addEventListener('DOMContentLoaded', function() {
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Ü–≤–µ—Ç–∞
    function interpolateColor(color1, color2, factor) {
        const result = color1.slice();
        for (let i = 0; i < 3; i++) {
            result[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));
        }
        return result;
    }
    
    // –†–∞–∑–±–∏—Ä–∞–µ–º —Ü–≤–µ—Ç–∞ –≤ RGB
    const startColor = hexToRgb(getComputedStyle(document.documentElement).getPropertyValue('--start-bg-color').trim());
    const endColor = hexToRgb(getComputedStyle(document.documentElement).getPropertyValue('--end-bg-color').trim());
    
    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è hex –≤ rgb
    function hexToRgb(hex) {
        // –£–¥–∞–ª—è–µ–º # –µ—Å–ª–∏ –µ—Å—Ç—å
        hex = hex.replace('#', '');
        
        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ 6-—Å–∏–º–≤–æ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        if (hex.length === 3) {
            hex = hex.split('').map(function(char) {
                return char + char;
            }).join('');
        }
        
        // –ü–∞—Ä—Å–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        const r = parseInt(hex.substring(0, 2), 16);
        const g = parseInt(hex.substring(2, 4), 16);
        const b = parseInt(hex.substring(4, 6), 16);
        
        return [r, g, b];
    }
    




// –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –ø–æ–¥ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
function showAllTexts() {
    const texts = document.querySelectorAll('.anniversary-text');
    texts.forEach(text => {
        text.style.opacity = '1';
        text.style.transform = 'translateY(0)';
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function openModal(imgSrc, text) {
    const modal = document.getElementById('modalOverlay');
    const modalImg = document.getElementById('modalImage');
    const modalText = document.getElementById('modalText');
    const navbar = document.querySelector('.navbar');
    
    modalImg.src = imgSrc;
    modalText.textContent = text;
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
    
    navbar.style.opacity = '0';
    navbar.style.pointerEvents = 'none';
    navbar.style.transition = 'opacity 0.3s ease';
    
    modalImg.onclick = function(e) {
        e.stopPropagation();
        closeModal();
    };
    
    createConfetti();
}

function closeModal() {
    const modal = document.getElementById('modalOverlay');
    const navbar = document.querySelector('.navbar');
    
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
    navbar.style.opacity = '1';
    navbar.style.pointerEvents = 'auto';
    
    const modalImg = document.getElementById('modalImage');
    modalImg.onclick = null;
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ESC
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        closeModal();
    }
});

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≤–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–æ–Ω–∞
function createFloatingElements() {
    const container = document.querySelector('.floating-elements');
    const colors = ['rgba(255, 204, 0, 0.1)', 'rgba(255, 102, 153, 0.1)', 'rgba(174, 17, 203, 0.1)', 'rgba(75, 98, 137, 0.1)'];
    
    for (let i = 0; i < 8; i++) {
        const element = document.createElement('div');
        element.className = 'floating-element';
        
        const size = Math.random() * 100 + 50;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 8;
        const duration = Math.random() * 10 + 10;
        const color = colors[Math.floor(Math.random() * colors.length)];
        
        element.style.width = `${size}px`;
        element.style.height = `${size}px`;
        element.style.top = `${posY}%`;
        element.style.left = `${posX}%`;
        element.style.animationDelay = `${delay}s`;
        element.style.animationDuration = `${duration}s`;
        element.style.backgroundColor = color;
        
        container.appendChild(element);
    }
}

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫
function createHeart() {
    const heart = document.createElement('div');
    const heartTypes = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'ü§é', 'üñ§', 'ü§ç', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï'];
    heart.innerHTML = heartTypes[Math.floor(Math.random() * heartTypes.length)];
    heart.classList.add('heart-bubble');
    
    const colors = ['#ff6699', '#ff3366', '#ff0066', '#ff99cc', '#ff66b3', '#ffcc00', '#ff9933'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    heart.style.color = randomColor;
    
    const x = Math.random() * window.innerWidth;
    heart.style.left = `${x}px`;
    heart.style.bottom = '0';
    
    const size = Math.random() * 20 + 40;
    heart.style.fontSize = `${size}px`;
    heart.style.transform = `translateX(${Math.random() * 100 - 50}px)`;
    
    document.body.appendChild(heart);
    
    setTimeout(() => {
        heart.remove();
    }, 3000);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–¥–µ—á–µ–∫
function startHeartAnimation() {
    createHeart();
    const nextInterval = Math.random() * 500 + 500;
    setTimeout(startHeartAnimation, nextInterval);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
function createConfetti() {
    const colors = ['#ffcc00', '#ff6699', '#66ccff', '#99ff66', '#ff9933'];
    
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        
        const color = colors[Math.floor(Math.random() * colors.length)];
        const size = Math.random() * 10 + 5;
        const left = Math.random() * 100;
        const animationDuration = Math.random() * 3 + 2;
        
        confetti.style.backgroundColor = color;
        confetti.style.width = `${size}px`;
        confetti.style.height = `${size}px`;
        confetti.style.left = `${left}%`;
        confetti.style.animationDuration = `${animationDuration}s`;
        
        document.body.appendChild(confetti);
        
        setTimeout(() => {
            confetti.remove();
        }, animationDuration * 1000);
    }
}

// –ê–Ω–∏–º–∞—Ü–∏—è –±—É–∫–≤ –∏–º–µ–Ω–∏ "–í–∞–ª–µ—Ä–∏—è"
function animateNameLetters() {
    const name = "–í–∞–ª–µ—Ä–∏—è";
    const nameLettersContainer = document.getElementById('name-letters');
    
    name.split('').forEach((letter, index) => {
        const span = document.createElement('span');
        span.className = 'letter';
        span.textContent = letter;
        span.style.animation = `snake 2s ${index * 0.2}s infinite ease-in-out`;
        nameLettersContainer.appendChild(span);
    });
}

// –°–ª–∞–π–¥-—à–æ—É
function initSlideshow() {
    const slideshow = document.getElementById('slideshow');
    let currentIndex = 0;

    function showNextImage() {
        const currentImage = slideshow.querySelector('.active');
        if (currentImage) {
            currentImage.classList.remove('active');
        }

        currentIndex = (currentIndex + 1) % slideshow.children.length;
        const nextImage = slideshow.children[currentIndex];
        nextImage.classList.add('active');
    }

    setInterval(showNextImage, 3000);
}

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–æ—è–≤–ª–µ–Ω–∏—è
function lazyLoadImages() {
    const lazyImages = [].slice.call(document.querySelectorAll('img[loading="lazy"], img[data-src]'));
    
    if ('IntersectionObserver' in window) {
        const lazyImageObserver = new IntersectionObserver(function(entries, observer) {
            entries.forEach(function(entry) {
                if (entry.isIntersecting) {
                    const lazyImage = entry.target;
                    
                    if (lazyImage.dataset.src) {
                        lazyImage.src = lazyImage.dataset.src;
                        delete lazyImage.dataset.src;
                    }
                    
                    const placeholder = lazyImage.nextElementSibling;
                    if (placeholder && placeholder.classList.contains('placeholder')) {
                        setTimeout(() => {
                            placeholder.style.opacity = '0';
                            setTimeout(() => {
                                placeholder.remove();
                            }, 500);
                        }, 300);
                    }
                    
                    lazyImage.onload = function() {
                        lazyImage.classList.add('loaded');
                    };
                    
                    lazyImageObserver.unobserve(lazyImage);
                }
            });
        }, {
            rootMargin: '200px 0px'
        });

        lazyImages.forEach(function(lazyImage) {
            lazyImageObserver.observe(lazyImage);
        });
    } else {
        lazyImages.forEach(function(lazyImage) {
            if (lazyImage.dataset.src) {
                lazyImage.src = lazyImage.dataset.src;
                lazyImage.onload = function() {
                    lazyImage.classList.add('loaded');
                };
            }
        });
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—É–Ω–∫—Ç (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        const navbar = document.getElementById('navbarNav');
        if (navbar.classList.contains('show')) {
            $('.navbar-toggler').click();
        }
    });
});

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–≤–µ—Ä—Ö"
function setupScrollListener() {
    const backToTopButton = document.getElementById('backToTop');
    
    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            backToTopButton.classList.add('visible');
        } else {
            backToTopButton.classList.remove('visible');
        }
    });
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–≤–±–∞—Ä–∞ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
function setupNavbarScroll() {
    const navbar = document.querySelector('.navbar');
    
    window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });
}

// –†–∞—Å—á–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
const birthDate = new Date('2025-03-14T10:15:00');

function calculateAge(birthDate) {
    const now = new Date();
    let years = now.getFullYear() - birthDate.getFullYear();
    let months = now.getMonth() - birthDate.getMonth();
    let days = now.getDate() - birthDate.getDate();
    let hours = now.getHours() - birthDate.getHours();
    let minutes = now.getMinutes() - birthDate.getMinutes();
    let seconds = now.getSeconds() - birthDate.getSeconds();
    
    if (seconds < 0) {
        minutes--;
        seconds += 60;
    }
    if (minutes < 0) {
        hours--;
        minutes += 60;
    }
    if (hours < 0) {
        days--;
        hours += 24;
    }
    if (days < 0) {
        months--;
        days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
    }
    if (months < 0) {
        years--;
        months += 12;
    }
    
    return { years, months, days, hours, minutes, seconds };
}

// –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –¥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
function getDaysUntilBirthday(birthday) {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    let nextBirthday = new Date(today.getFullYear(), birthday.getMonth(), birthday.getDate());
    
    if (today > nextBirthday) {
        nextBirthday = new Date(today.getFullYear() + 1, birthday.getMonth(), birthday.getDate());
    }
    
    const diffTime = nextBirthday - today;
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    return diffDays;
}

// –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –¥–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
function calculateDaysToEvents(birthDate) {
    const now = new Date();
    
    // –°–∫–≤–æ–∑–Ω—ã–µ –¥–Ω–∏ –∂–∏–∑–Ω–∏ (–±–µ–∑ —É—á–µ—Ç–∞ –º–µ—Å—è—Ü–µ–≤)
    const totalDaysAlive = Math.floor((now - birthDate) / (1000 * 60 * 60 * 24));
    
    // –î–æ –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞ (1.5 –≥–æ–¥–∞ = 548 –¥–Ω–µ–π)
    const kindergartenDate = new Date(birthDate.getTime() + 548 * 24 * 60 * 60 * 1000);
    const daysToKindergarten = Math.floor((kindergartenDate - now) / (1000 * 60 * 60 * 24));
    
    // –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
    const daysToBirthday = getDaysUntilBirthday(birthDate);
    
    // –î–æ 5 –ª–µ—Ç
    const fiveYearsDate = new Date(birthDate.getFullYear() + 5, birthDate.getMonth(), birthDate.getDate());
    const daysTo5Years = Math.floor((fiveYearsDate - now) / (1000 * 60 * 60 * 24));
    
    // –î–æ —à–∫–æ–ª—ã (7 –ª–µ—Ç)
    const schoolDate = new Date(birthDate.getFullYear() + 7, 8, 1); // 1 —Å–µ–Ω—Ç—è–±—Ä—è —á–µ—Ä–µ–∑ 7 –ª–µ—Ç
    const daysToSchool = Math.floor((schoolDate - now) / (1000 * 60 * 60 * 24));
    
    // –î–æ 10 –ª–µ—Ç
    const tenYearsDate = new Date(birthDate.getFullYear() + 10, birthDate.getMonth(), birthDate.getDate());
    const daysTo10Years = Math.floor((tenYearsDate - now) / (1000 * 60 * 60 * 24));
    
    // –î–æ 18 –ª–µ—Ç
    const eighteenYearsDate = new Date(birthDate.getFullYear() + 18, birthDate.getMonth(), birthDate.getDate());
    const daysTo18Years = Math.floor((eighteenYearsDate - now) / (1000 * 60 * 60 * 24));
    
    // –î–æ –ø–µ–Ω—Å–∏–∏ (–∂–µ–Ω—â–∏–Ω—ã - 60 –ª–µ—Ç)
    const retirementDate = new Date(birthDate.getFullYear() + 60, birthDate.getMonth(), birthDate.getDate());
    const daysToRetirement = Math.floor((retirementDate - now) / (1000 * 60 * 60 * 24));
    
    return {
        totalDaysAlive,
        daysToKindergarten,
        daysToBirthday,
        daysTo5Years,
        daysToSchool,
        daysTo10Years,
        daysTo18Years,
        daysToRetirement
    };
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—É–ø–∏–≤—à–∏—Ö —Å–æ–±—ã—Ç–∏–π
function updateProgressBar(barId, daysRemaining, totalDays, eventName) {
    const progressBar = document.getElementById(barId);
    const container = progressBar.parentElement;
    const textElement = container.previousElementSibling;
    
    if (daysRemaining <= 0) {
        switch(barId) {
            case 'progressBarKindergarten':
                textElement.innerHTML = `<span class="emoji">üè´</span> –î–µ—Ç—Å–∫–∏–π —Å–∞–¥: <span class="highlight">–£–∂–µ –º–æ–∂–Ω–æ –∏–¥—Ç–∏!</span>`;
                break;
            case 'progressBarSchool':
                textElement.innerHTML = `<span class="emoji">üìö</span> –®–∫–æ–ª–∞: <span class="highlight">–£–∂–µ –≤ —à–∫–æ–ª–µ!</span>`;
                break;
            case 'progressBar5':
                textElement.innerHTML = `<span class="emoji">üéà</span> 5 –ª–µ—Ç: <span class="highlight">–£–∂–µ –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å!</span>`;
                break;
            case 'progressBar10':
                textElement.innerHTML = `<span class="emoji">üåü</span> 10 –ª–µ—Ç: <span class="highlight">–£–∂–µ –µ—Å—Ç—å!</span>`;
                break;
            case 'progressBar18':
                textElement.innerHTML = `<span class="emoji">üéâ</span> 18 –ª–µ—Ç: <span class="highlight">–£–∂–µ –≤–∑—Ä–æ—Å–ª—ã–π!</span>`;
                break;
            case 'progressBarRetirement':
                textElement.innerHTML = `<span class="emoji">üëµ</span> –ü–µ–Ω—Å–∏—è: <span class="highlight">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –±–∞–±—É—à–∫–∞!</span>`;
                break;
            case 'progressBarYear':
                textElement.innerHTML = `<span class="emoji">üéÇ</span> –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è: <span class="highlight">–°–µ–≥–æ–¥–Ω—è!</span>`;
                break;
            default:
                textElement.innerHTML = textElement.innerHTML.replace("–î–æ", "–£–∂–µ");
        }
        
        progressBar.style.width = '100%';
        container.classList.add('complete');
        
        if (barId === 'progressBarYear') {
            createConfetti();
        }
    } else {
        const percentage = 100 - (daysRemaining / totalDays * 100);
        progressBar.style.width = `${percentage}%`;
        container.classList.remove('complete');
        
        switch(barId) {
            case 'progressBarKindergarten':
                textElement.innerHTML = `<span class="emoji">üè´</span> –î–æ –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBarSchool':
                textElement.innerHTML = `<span class="emoji">üìö</span> –î–æ —à–∫–æ–ª—ã: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBar5':
                textElement.innerHTML = `<span class="emoji">üéà</span> –î–æ 5-–ª–µ—Ç–∏—è: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBar10':
                textElement.innerHTML = `<span class="emoji">üåü</span> –î–æ 10-–ª–µ—Ç–∏—è: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBar18':
                textElement.innerHTML = `<span class="emoji">üéâ</span> –î–æ 18-–ª–µ—Ç–∏—è: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBarRetirement':
                textElement.innerHTML = `<span class="emoji">üëµ</span> –î–æ –ø–µ–Ω—Å–∏–∏: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
            case 'progressBarYear':
                textElement.innerHTML = `<span class="emoji">üéÇ</span> –î–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è: <span class="highlight">${daysRemaining} –¥–Ω–µ–π</span>`;
                break;
        }
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–Ω—è—Ö –¥–æ —Å–æ–±—ã—Ç–∏–π
function updateEventsInfo() {
    const events = calculateDaysToEvents(birthDate);
    
    // –°–∫–≤–æ–∑–Ω—ã–µ –¥–Ω–∏ –∂–∏–∑–Ω–∏
    document.getElementById('totalDays').innerHTML = `<span class="emoji">üìÖ</span> –í—Å–µ–≥–æ –¥–Ω–µ–π –∂–∏–∑–Ω–∏: <span class="highlight">${events.totalDaysAlive} –¥–Ω–µ–π</span>`;
    document.getElementById('progressBarTotalDays').style.width = `${Math.min(events.totalDaysAlive / 36500 * 100, 100)}%`;
    
    // –î–æ –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞ (1.5 –≥–æ–¥–∞ = 548 –¥–Ω–µ–π)
    updateProgressBar('progressBarKindergarten', events.daysToKindergarten, 548, '–î–æ –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞');
    
    // –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
    updateProgressBar('progressBarYear', events.daysToBirthday, 365, '–î–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è');
    
    // –î–æ 5 –ª–µ—Ç
    updateProgressBar('progressBar5', events.daysTo5Years, 5 * 365, '–î–æ 5-–ª–µ—Ç–∏—è');
    
    // –î–æ —à–∫–æ–ª—ã
    updateProgressBar('progressBarSchool', events.daysToSchool, 7 * 365, '–î–æ —à–∫–æ–ª—ã');
    
    // –î–æ 10 –ª–µ—Ç
    updateProgressBar('progressBar10', events.daysTo10Years, 10 * 365, '–î–æ 10-–ª–µ—Ç–∏—è');
    
    // –î–æ 18 –ª–µ—Ç
    updateProgressBar('progressBar18', events.daysTo18Years, 18 * 365, '–î–æ 18-–ª–µ—Ç–∏—è');
    
    // –î–æ –ø–µ–Ω—Å–∏–∏ (60 –ª–µ—Ç –¥–ª—è –∂–µ–Ω—â–∏–Ω)
    updateProgressBar('progressBarRetirement', events.daysToRetirement, 60 * 365, '–î–æ –ø–µ–Ω—Å–∏–∏');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
    setTimeout(updateEventsInfo, 60000);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–∑—Ä–∞—Å—Ç–µ
function updateInfo() {
    const age = calculateAge(birthDate);
    document.getElementById('age').innerHTML = `<span class="emoji">üë∂</span> –í–æ–∑—Ä–∞—Å—Ç —Ä–µ–±–µ–Ω–∫–∞: <span class="highlight"><br>${age.years} –ª–µ—Ç, ${age.months} –º–µ—Å—è—Ü–µ–≤, ${age.days} –¥–Ω–µ–π</span><br>${age.hours} —á–∞—Å–æ–≤, ${age.minutes} –º–∏–Ω—É—Ç, ${age.seconds} —Å–µ–∫`;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
    setTimeout(updateInfo, 1000);
}